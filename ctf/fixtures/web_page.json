[
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": null,
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 1,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": "function revealFlag() {\n    const splittedParts = window.location.pathname.split(\"/\");\n    const server_script_id = splittedParts[splittedParts.length-1];\n    fetch(`/api/method/${server_script_id}`)\n    .then((data)=>data.json())\n    .then((data)=>{\n        alert(data?.message?? \"Something Go Wrong\")\n    })\n}",
  "main_section": null,
  "main_section_html": "<h3>It has long been an axiom of mine that the little things are infinitely the most important.</h3>\n<br>\n<button onclick=\"revealFlag()\">Click to reveal the flag</button>",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2025-03-24 15:22:21.970018",
  "module": null,
  "name": "stage-01",
  "page_blocks": [],
  "published": 1,
  "route": "stage-01/<name>",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Center",
  "title": "Sherlock",
  "website_sidebar": null
 },
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": "",
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 1,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": "window.addEventListener(\"DOMContentLoaded\", function() {\n    const splittedParts = window.location.pathname.split(\"/\");\n    const js_file_name = splittedParts[splittedParts.length-1];\n    \n    const script = document.createElement(\"script\");\n    script.src = `/private/files/${js_file_name}.js`;\n    script.async = true;\n    document.body.appendChild(script);\n})\n\nfunction revealFlag() {\n    alert(window.getFlag());\n}",
  "main_section": null,
  "main_section_html": "\n<h3>If you gaze long into a debugger, the debugger also gazes back.</h3>\n\n<br>\n\n<button onclick=\"revealFlag()\">Click to Reveal Flag</button>",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2025-03-24 15:07:38.887148",
  "module": null,
  "name": "stage-02",
  "page_blocks": [],
  "published": 1,
  "route": "stage-02/<js_file_name>",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Center",
  "title": "Abyss",
  "website_sidebar": null
 },
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": null,
  "css": "body {\n    text-align: center;\n    font-family: Arial, sans-serif;\n}\n.game-container {\n    display: grid;\n    grid-template-columns: repeat(3, 100px);\n    grid-template-rows: repeat(3, 100px);\n    gap: 5px;\n    justify-content: center;\n    margin-top: 20px;\n}\n.cell {\n    width: 100px;\n    height: 100px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 2em;\n    border: 2px solid black;\n    cursor: pointer;\n}\n.controls {\n    margin-top: 20px;\n}",
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 1,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 1,
  "javascript": "window.addEventListener(\"DOMContentLoaded\", function() {\n    const splittedParts = window.location.pathname.split(\"/\");\n    const js_file_name = splittedParts[splittedParts.length-1];\n    \n    const script = document.createElement(\"script\");\n    script.src = `/private/files/${js_file_name}.min.js`;\n    script.async = true;\n    document.body.appendChild(script);\n})",
  "main_section": null,
  "main_section_html": "<h1>Tic Tac Toe</h1>\n<div class=\"game-container\">\n    <div class=\"cell\" data-index=\"0\"></div>\n    <div class=\"cell\" data-index=\"1\"></div>\n    <div class=\"cell\" data-index=\"2\"></div>\n    <div class=\"cell\" data-index=\"3\"></div>\n    <div class=\"cell\" data-index=\"4\"></div>\n    <div class=\"cell\" data-index=\"5\"></div>\n    <div class=\"cell\" data-index=\"6\"></div>\n    <div class=\"cell\" data-index=\"7\"></div>\n    <div class=\"cell\" data-index=\"8\"></div>\n</div>\n<p id=\"status\"></p>\n<div class=\"controls\">\n    <button id=\"reset\">Reset Game</button>\n</div>",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2025-02-22 12:51:56.062768",
  "module": null,
  "name": "stage-03",
  "page_blocks": [],
  "published": 1,
  "route": "stage-03/<js_file_name>",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Center",
  "title": "Stage 03",
  "website_sidebar": null
 },
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": null,
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": "function sendCode(){\n    frappe.call({\n        \"method\": \"ctf.api.stage.send_verification_code\", \n        \"args\": {\"email\": document.getElementById(\"email\").value},\n        \"freeze\": true,\n        \"freeze_message\": \"Sending Code ..\",\n    })\n}\n\nfunction validateCode() {\n    frappe.call({\n        \"method\": \"ctf.api.stage.validate_verification_code\", \n        \"args\": {\"code\": document.getElementById(\"code\").value,\n        \"freeze\": true,\n        \"freeze_message\": \"Validating Code ..\",\n        }\n    })\n}",
  "main_section": null,
  "main_section_html": "<p>Email - </p>\n<input id=\"email\" value=\"administrator@ctfsite.com\" disabled/>\n<button onclick=\"sendCode()\">Send Code</button>\n<br><br>\n<p>Verification Code - </p>\n<input id=\"code\"/>\n<button onclick=\"validateCode()\">Validate and Get Flag</button>",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2025-02-22 15:05:30.423187",
  "module": null,
  "name": "stage-06",
  "page_blocks": [],
  "published": 1,
  "route": "stage-06",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Center",
  "title": "Stage 06",
  "website_sidebar": null
 },
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": null,
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": "function checkFlag() {\n    frappe.call({\n        \"method\": \"ctf.api.stage.is_correct_flag\", \n        \"args\": {\"submitted_flag\": document.getElementById(\"guessed_flag\").value },\n        \"success\": (e)=> frappe.msgprint(e?.message),\n        \"always\": function(e){\n            if(e.is_error) {\n                frappe.msgprint(\"Something going wrong. Check error in console.\")\n                console.error(e?.message)\n            }\n        }\n    })\n}",
  "main_section": null,
  "main_section_html": "<h2>Guess The Flag</h2>\n<br>\n<p>Your Guessed Flag -</p>\n<input id=\"guessed_flag\"/>\n<button onclick=\"checkFlag()\">Check Flag</button>",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2025-02-22 15:23:39.237110",
  "module": null,
  "name": "stage-04",
  "page_blocks": [],
  "published": 1,
  "route": "stage-04",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Center",
  "title": "Stage 04",
  "website_sidebar": null
 },
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": null,
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": "function checkFlag() {\n    const flag = document.getElementById(\"guessed_flag\").value;\n\n    fetch(\"/api/method/ctf.api.stage.check_flag\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\",\n            \"X-Frappe-CSRF-Token\": frappe.csrf_token\n        },\n        body: JSON.stringify({ flag })\n    })\n    .then(response => response.json())\n    .then(data => frappe.msgprint(data?.message))\n    .catch(error => {\n        console.error(\"Error:\", error);\n        frappe.msgprint(\"An error occurred while checking the flag.\");\n    });\n}\n",
  "main_section": null,
  "main_section_html": "<h2>Guess The Flag</h2>\n<br>\n<p>Your Guessed Flag -</p>\n<input id=\"guessed_flag\"/>\n<button onclick=\"checkFlag()\">Check Flag</button>",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2025-03-22 03:09:32.024088",
  "module": null,
  "name": "stage-10",
  "page_blocks": [],
  "published": 1,
  "route": "stage-10",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Center",
  "title": "Stage 10",
  "website_sidebar": null
 },
 {
  "breadcrumbs": null,
  "content_type": "HTML",
  "context_script": null,
  "css": null,
  "docstatus": 0,
  "doctype": "Web Page",
  "dynamic_route": 0,
  "dynamic_template": 0,
  "enable_comments": 0,
  "end_date": null,
  "full_width": 1,
  "header": null,
  "insert_style": 0,
  "javascript": "let template = `\n{% if answer == super_secret %}\n   Here is your flag: {{ flag }}\n{% else %}\n  <h4>Invalid secret</h4>\n{% endif %}\n`\n\nfunction checkFlag() {\n    const guessed_answer = document.getElementById(\"guessed_answer\").value;\n\n    fetch(\"/api/method/ctf.api.stage.retrieve_flag\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\",\n            \"X-Frappe-CSRF-Token\": frappe.csrf_token\n        },\n        body: JSON.stringify({\n            template: template,\n            answer: guessed_answer\n        })\n    })\n    .then(response => response.json())\n    .then(data => document.getElementById(\"content\").innerHTML = data?.message??\"\")\n    .catch(error => {\n        console.error(\"Error:\", error);\n        frappe.msgprint(\"An error occurred while checking the flag.\");\n    });\n}\n",
  "main_section": null,
  "main_section_html": "<h2>Guess The Answer</h2>\n<br>\n<input id=\"guessed_answer\"/>\n<button onclick=\"checkFlag()\">Check Flag</button>\n\n<div id=\"content\"></div>",
  "main_section_md": null,
  "meta_description": null,
  "meta_image": null,
  "meta_title": null,
  "modified": "2025-03-22 03:10:10.867596",
  "module": null,
  "name": "stage-09",
  "page_blocks": [],
  "published": 1,
  "route": "stage-09",
  "show_sidebar": 0,
  "show_title": 0,
  "slideshow": null,
  "start_date": null,
  "text_align": "Center",
  "title": "Stage 09",
  "website_sidebar": null
 }
]